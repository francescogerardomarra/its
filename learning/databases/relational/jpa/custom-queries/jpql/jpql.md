# JPQL
By leveraging `JpaRepository`, we significantly reduce the amount of code needed to interact with the database while maintaining flexibility and efficiency in data management.

**While Spring Data JPA provides a powerful set of CRUD operations out of the box, there are cases where more complex queries, such as those involving specific filtering criteria, cannot be autogenerated. In these scenarios, we need to define custom queries using JPQL (Java Persistence Query Language) or native SQL.**

## Example

While Spring Data JPA provides a powerful set of CRUD operations out of the box, there are cases where more complex queries, such as those involving specific filtering criteria, cannot be autogenerated. In these scenarios, we need to define custom queries using JPQL (Java Persistence Query Language) or native SQL.

### **Defining Custom Queries with JPQL**
JPQL is similar to SQL but operates on entity objects instead of database tables. We can define JPQL queries using the `@Query` annotation in our repository interface.

#### **Example: Fetching People by City Using JPQL**
Suppose we need to retrieve a list of people who live in a specific city. We can define the query as follows:

```java
@Repository
public interface PersonRepository extends JpaRepository<Person, Long> {
    @Query("SELECT p FROM Person p WHERE p.city = :city")
    List<Person> findPeopleByCity(@Param("city") String city);
}
```

### **Usage Examples**
#### **Using JPQL Query**
```java
@Autowired
private PersonRepository personRepository;

public void findPeopleInCityExample() {
    List<Person> people = personRepository.findPeopleByCity("New York");
    people.forEach(person -> System.out.println(person.getName()));
}
```
